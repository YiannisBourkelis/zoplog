# Optimized chrony configuration for ZopLog
# Include configuration files found in /etc/chrony/conf.d.
confdir /etc/chrony/conf.d

# Multiple NTP pools for better redundancy with optimized polling
pool 0.debian.pool.ntp.org iburst maxpoll 10 minpoll 6 maxsources 4
pool 1.debian.pool.ntp.org iburst maxpoll 10 minpoll 6 maxsources 4
pool 2.debian.pool.ntp.org iburst maxpoll 10 minpoll 6 maxsources 4
pool 3.debian.pool.ntp.org iburst maxpoll 10 minpoll 6 maxsources 4

# Use time sources from DHCP
sourcedir /run/chrony-dhcp
sourcedir /etc/chrony/sources.d

# Authentication and drift files
keyfile /etc/chrony/chrony.keys
driftfile /var/lib/chrony/chrony.drift
ntsdumpdir /var/lib/chrony

# Enable logging for monitoring
log tracking measurements statistics
logdir /var/log/chrony

# Stop bad estimates upsetting machine clock
maxupdateskew 100.0

# Enable kernel RTC synchronization
rtcsync

# Step the system clock for initial synchronization
makestep 1 3

# Get TAI-UTC offset and leap seconds
leapsectz right/UTC

# Allow larger initial frequency error
maxdrift 100